<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Profile Summary</title></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><title>Function details for getDepressions</title><link rel="stylesheet" href="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">getDepressions (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/><i>Generated 12-Jun-2019 13:11:53 using performance time.</i><br/>function in file /home/sanoel/SequentialDepressionFillingAlgorithm_Matlab/Generic/getDepressions.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" style="background-color:#F0F0F0">Function Name</td><td class="td-linebottomrt" style="background-color:#F0F0F0">Function Type</td><td class="td-linebottomrt" style="background-color:#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file342.html">FullAlgorithm</a></td><td class="td-linebottomrt">script</td><td class="td-linebottomrt">1</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" style="background-color:#F0F0F0">Line Number</td><td class="td-linebottomrt" style="background-color:#F0F0F0">Code</td><td class="td-linebottomrt" style="background-color:#F0F0F0">Calls</td><td class="td-linebottomrt" style="background-color:#F0F0F0">Total Time</td><td class="td-linebottomrt" style="background-color:#F0F0F0">Allocated Memory</td><td class="td-linebottomrt" style="background-color:#F0F0F0">Freed Memory</td><td class="td-linebottomrt" style="background-color:#F0F0F0">Peak Memory</td><td class="td-linebottomrt" style="background-color:#F0F0F0">% Time</td><td class="td-linebottomrt" style="background-color:#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line121">121</a></td><td class="td-linebottomrt"><pre>parfor p = 1 : length(cellInde...</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">465.157 s</td><td class="td-linebottomrt">226004.95 Kb</td><td class="td-linebottomrt">158500.84 Kb</td><td class="td-linebottomrt">7357.34 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">15.2%</td><td class="td-linebottomrt"><img src="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/private/one-pixel.gif" width=15 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line89">89</a></td><td class="td-linebottomrt"><pre>j = k;</pre></td><td class="td-linebottomrt">153951</td><td class="td-linebottomrt">316.731 s</td><td class="td-linebottomrt">9626.88 Kb</td><td class="td-linebottomrt">5176.95 Kb</td><td class="td-linebottomrt">1439.36 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">10.4%</td><td class="td-linebottomrt"><img src="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/private/one-pixel.gif" width=10 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line88">88</a></td><td class="td-linebottomrt"><pre>cellIndexes{p}(j+1 : k) = pare...</pre></td><td class="td-linebottomrt">153951</td><td class="td-linebottomrt">316.188 s</td><td class="td-linebottomrt">9129.97 Kb</td><td class="td-linebottomrt">16417.16 Kb</td><td class="td-linebottomrt">1715.20 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">10.3%</td><td class="td-linebottomrt"><img src="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/private/one-pixel.gif" width=10 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line90">90</a></td><td class="td-linebottomrt"><pre>i = i+1;</pre></td><td class="td-linebottomrt">153951</td><td class="td-linebottomrt">315.125 s</td><td class="td-linebottomrt">13672.36 Kb</td><td class="td-linebottomrt">7335.70 Kb</td><td class="td-linebottomrt">1279.42 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">10.3%</td><td class="td-linebottomrt"><img src="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/private/one-pixel.gif" width=10 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line82">82</a></td><td class="td-linebottomrt"><pre>pits(parents) = p;</pre></td><td class="td-linebottomrt">153951</td><td class="td-linebottomrt">314.929 s</td><td class="td-linebottomrt">8679.83 Kb</td><td class="td-linebottomrt">10999.41 Kb</td><td class="td-linebottomrt">1759.34 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">10.3%</td><td class="td-linebottomrt"><img src="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/private/one-pixel.gif" width=10 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">1328.143 s</td><td class="td-linebottomrt">50478.33 Kb</td><td class="td-linebottomrt">49141.20 Kb</td><td class="td-linebottomrt">7357.34 Kb</td><td class="td-linebottomrt">43.5%</td><td class="td-linebottomrt"><img src="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/private/one-pixel.gif" width=43 height=10></td></tr><tr><td class="td-linebottomrt" style="background-color:#F0F0F0">Totals</td><td class="td-linebottomrt" style="background-color:#F0F0F0">&nbsp;</td><td class="td-linebottomrt" style="background-color:#F0F0F0">&nbsp;</td><td class="td-linebottomrt" style="background-color:#F0F0F0">3056.273 s</td><td class="td-linebottomrt" style="background-color:#F0F0F0">317592.31 Kb</td><td class="td-linebottomrt" style="background-color:#F0F0F0">247571.27 Kb</td><td class="td-linebottomrt" style="background-color:#F0F0F0">7357.34 Kb</td><td class="td-linebottomrt" style="background-color:#F0F0F0">100%</td><td class="td-linebottomrt" style="background-color:#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Allocated Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Freed Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Peak Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file76.html">parallel_function</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">465.093 s</td><td class="td-linebottomrt">225962.77 Kb</td><td class="td-linebottomrt">158500.62 Kb</td><td class="td-linebottomrt">7357.34 Kb</td><td class="td-linebottomrt">15.2%</td><td class="td-linebottomrt"><img src="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/private/one-pixel.gif" width=15 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file876.html">strcat</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0.186 s</td><td class="td-linebottomrt">26.34 Kb</td><td class="td-linebottomrt">0.16 Kb</td><td class="td-linebottomrt">8.58 Kb</td><td class="td-linebottomrt">0.0%</td><td class="td-linebottomrt"><img src="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file346.html">num2str</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0.141 s</td><td class="td-linebottomrt">8.03 Kb</td><td class="td-linebottomrt">0.14 Kb</td><td class="td-linebottomrt">2.03 Kb</td><td class="td-linebottomrt">0.0%</td><td class="td-linebottomrt"><img src="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file351.html">parfor_endpoint_check</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">2</td><td class="td-linebottomrt">0.030 s</td><td class="td-linebottomrt">4.52 Kb</td><td class="td-linebottomrt">0.00 Kb</td><td class="td-linebottomrt">2.58 Kb</td><td class="td-linebottomrt">0.0%</td><td class="td-linebottomrt"><img src="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file350.html">parfor_sliced_fcnhdl_check</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0.024 s</td><td class="td-linebottomrt">3.39 Kb</td><td class="td-linebottomrt">0.00 Kb</td><td class="td-linebottomrt">1.69 Kb</td><td class="td-linebottomrt">0.0%</td><td class="td-linebottomrt"><img src="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file1184.html">nansum</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0.011 s</td><td class="td-linebottomrt">1.09 Kb</td><td class="td-linebottomrt">0.00 Kb</td><td class="td-linebottomrt">0.81 Kb</td><td class="td-linebottomrt">0.0%</td><td class="td-linebottomrt"><img src="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">2590.787 s</td><td class="td-linebottomrt">91586.17 Kb</td><td class="td-linebottomrt">89070.34 Kb</td><td class="td-linebottomrt">7357.34 Kb</td><td class="td-linebottomrt">84.8%</td><td class="td-linebottomrt"><img src="file:////home/sanoel/opt/Matlab2018a/toolbox/matlab/codetools/private/one-pixel.gif" width=85 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">3056.273 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">317592.31 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">247571.27 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">7357.34 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>Code Analyzer results</strong><br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Message</td></tr><tr><td class="td-linebottomrt"><a href="#Line49">49</a></td><td class="td-linebottomrt"><span class="mono">The value assigned to variable 'edgePitId' might be unused.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line135">135</a></td><td class="td-linebottomrt"><span class="mono">The entire array or structure 'dem' is a broadcast variable. This might result in unnecessary communication overhead.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line138">138</a></td><td class="td-linebottomrt"><span class="mono">The entire array or structure 'indexes' is a broadcast variable. This might result in unnecessary communication overhead.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line159">159</a></td><td class="td-linebottomrt"><span class="mono">The value assigned to variable 'lessThans' might be unused.</span></td></tr></table><div class="grayline"/><strong>Coverage results</strong><br/>Show coverage for parent directory<br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" style="background-color:#F0F0F0">Total lines in function</td><td class="td-linebottomrt">168</td></tr><tr><td class="td-linebottomrt" style="background-color:#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">99</td></tr><tr><td class="td-linebottomrt" style="background-color:#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">69</td></tr><tr><td class="td-linebottomrt" style="background-color:#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">69</td></tr><tr><td class="td-linebottomrt" style="background-color:#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">0</td></tr><tr><td class="td-linebottomrt" style="background-color:#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">100.00 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><table id="FunctionListingTable"><tr style="height:20px;"><th><pre><span style="color:#FF0000;">time</span> </pre></th><th><pre><span style="color:#0000FF;">Calls</span> </pre></th><th><pre><span style="color:#20AF20;">mem</span> </pre></th><th class="leftAligned" COLSPAN=2><pre><span> line</span></pre></th></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">   1</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">function[pits, pairs, cellIndexes, pitId, pitCell, areaCellCount, spilloverElevation, vca, volume, filledVolume, cellOverflowInto] = getDepressions(dem, flow_direction, flow_direction_parents, cellsize)</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">   2</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% Generate the matrix identifying depressions in the DEM as well as their</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">   3</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% parameters. </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">   4</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">%</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">   5</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% Inputs: </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">   6</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">%</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">   7</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% dem - elevation matrix</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">   8</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">%</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">   9</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% flow_direction - flow direction matrix</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  10</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">%</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  11</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% flow_direction_parents - matrix of flow direction parents</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  12</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">%</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  13</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% cellsize - side length of each cell, i.e., DEM resolution (meters).</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  14</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">%</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  15</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% Outputs (each of the following is an array having a length of the number of</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  16</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% depressions found in the flow direction matrix operation. Each row</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  17</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% corresponds to a different depression. Each of these parameters are </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  18</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% needed in order to provide consistent mergers of depressions in the </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  19</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% filling process):</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  20</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">%</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  21</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% pitId - The ID number assigned to the depression.</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  22</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% pitCell - The row and column of the pit cell found in the flow direction </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  23</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% matrix.</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  24</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">%</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  25</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% areaCellCount - Total contributing area expressed as the integer count of</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  26</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% cells. Multiply by the DEM cell area to get area in square meters.</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  27</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% spilloverElevation - The elevation which sets the maximum water level of </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  28</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% the depression after which it will overflow.</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  29</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">%</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  30</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% vca - Volume to Contributing Area (VCA) ratios for each depression, also </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  31</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% equivalent to the depth of rainfall excess the depression can retain. </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  32</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% This value is used to sort the depressions so that they may be filled in </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  33</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% order. Computed using volume in cubic meters and area in square meters. </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  34</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">%</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  35</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% volume - The retention volumes for each depression (m^3).</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  36</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">%</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  37</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% filledVolume - The volume (m^3) filled in previous iterations.</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  38</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">%</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  39</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% cellOverflowInto - The row and column of the cell in an adjacent</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  40</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% depression where water will begin to overflow into.</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  41</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;"></span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre> (Calls: 1, Time: 3056.273 s, 317592.31 Kb, 247571.27 Kb, 7357.34 Kb)</span><br/></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  42</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% Preallocate variables</span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.004 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">       2.2k/0b/2.2k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  43</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">disp('Creating Pit Database'); </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">       2.2k/0b/2.2k </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  44</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;"></span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.004 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">       1.2m/0b/1.2m </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  45</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">pits = nan(size(dem)); % matrix identifying pits </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.021 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">     89k/160k/87.9k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  46</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">pit_count = sum(<a href="file1184.html">nansum</a>(flow_direction == -1)); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.004 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">     2.33k/0b/2.33k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  47</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">edge_pits = int32(find(flow_direction == -2)); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.004 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">       576b/0b/576b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  48</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">pitId = int32(1 : pit_count); % id of each pit </span><br/></pre></td></tr><tr><a name="Line49"></a><td><pre><span style="color: #FF0000">  0.004 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">     1.56k/0b/1.56k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  49</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">edgePitId = int32(-1 : -1 : (-1*length(edge_pits)-1)); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.004 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">     1.11k/0b/1.11k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  50</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">pitCell = int32(find(flow_direction == -1)); % pit bottom cell index </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.004 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">     1.19k/0b/1.19k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  51</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">edgePitCell = int32(find(flow_direction == -2)); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.004 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">     1.19k/0b/1.19k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  52</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">areaCellCount = zeros(pit_count, 1); % integer number of cells </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.004 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">     1.19k/0b/1.19k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  53</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">spilloverElevation = zeros(pit_count, 1); % meters </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.003 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">     1.19k/0b/1.19k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  54</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">vca = zeros(pit_count, 1); % volume to contributing area ratio (hours) </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.003 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">         16k/0b/16k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  55</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">volume = zeros(pit_count, 1); % (cubic meters) </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.005 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">         16k/0b/16k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  56</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">filledVolume = zeros(pit_count, 1); % (cubic meters) </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.005 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">     16.7k/0b/16.7k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  57</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">cellOverflowInto = int32(zeros(pit_count, 1)); %cell index of overflow location </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">     16.7k/0b/16.7k </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  58</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;"></span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">     16.7k/0b/16.7k </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  59</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% Pits must first be identified in the pit matrix in order to return the</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">     16.7k/0b/16.7k </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  60</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% correct pit ID that each pit flows into (if not, many of these pits will</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">     16.7k/0b/16.7k </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  61</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% flow into yet unidentified pits that have ID 0).</span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.005 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">       400b/0b/400b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  62</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">fprintf('Creating pit ID matrix...') </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.004 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">       400b/0b/400b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  63</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">fprintf('Done'); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.004 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">       400b/0b/400b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  64</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">fprintf('\n'); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.339 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">   58.5k/864b/16.2k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  65</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">fprintf(<a href="file876.html">strcat</a>('Number of depressions: ',<a href="file346.html">num2str</a>(length(pitCell)))) </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.004 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">       176b/0b/176b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  66</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">fprintf('\n'); </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">       176b/0b/176b </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  67</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;"></span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">       176b/0b/176b </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  68</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% Fill out the pit ID image/matrix</span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.004 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">       1.7k/0b/1.7k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  69</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">pits(~isnan(dem)) = 0; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.005 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">       1.7k/0b/1.7k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  70</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">pits(pitCell) = pitId; % Mark the pit bottom in the pits image. This is  </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">       1.7k/0b/1.7k </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  71</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% used in recursiveMarkPits to tell what ID to mark each cell during tail</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">       1.7k/0b/1.7k </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  72</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">% recursion.</span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.004 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">     14.1k/0b/14.1k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  73</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">cellIndexes = cell(length(pitId), 1); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.003 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">     14.1k/0b/14.1k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  74</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">for p = 1 : length(pitCell) </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  3.676 </span></pre></td><td><pre><span style="color: #0000FF">   1786 </span></pre></td><td><pre><span style="color: #20AF20">     805k/907k/581k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  75</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    j = 1; % current length of cellIndexes{p} </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  3.671 </span></pre></td><td><pre><span style="color: #0000FF">   1786 </span></pre></td><td><pre><span style="color: #20AF20">  1.59m/1.37m/1.59m </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  76</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    i = 1; % iterator </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  3.673 </span></pre></td><td><pre><span style="color: #0000FF">   1786 </span></pre></td><td><pre><span style="color: #20AF20">       768k/0b/768k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  77</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    chunk = 50; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  3.707 </span></pre></td><td><pre><span style="color: #0000FF">   1786 </span></pre></td><td><pre><span style="color: #20AF20">      1.17m/0b/603k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  78</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    cellIndexes{p} = nan(chunk, 1); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  3.734 </span></pre></td><td><pre><span style="color: #0000FF">   1786 </span></pre></td><td><pre><span style="color: #20AF20">     522k/1.1m/423k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  79</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    cellIndexes{p}(1) = pitCell(p); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  3.725 </span></pre></td><td><pre><span style="color: #0000FF">   1786 </span></pre></td><td><pre><span style="color: #20AF20">     169k/179k/169k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  80</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    while i &lt;= j </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000"> 314.081 </span></pre></td><td><pre><span style="color: #0000FF"> 153951 </span></pre></td><td><pre><span style="color: #20AF20">  8.12m/14.5m/1.22m </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  81</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFAAAA; padding:1px;">        parents = flow_direction_parents{cellIndexes{p}(i)}; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000"> 314.929 </span></pre></td><td><pre><span style="color: #0000FF"> 153951 </span></pre></td><td><pre><span style="color: #20AF20">  8.48m/10.7m/1.72m </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  82</span><a name="Line82"></a></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFAAAA; padding:1px;">        pits(parents) = p; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000"> 314.587 </span></pre></td><td><pre><span style="color: #0000FF"> 153951 </span></pre></td><td><pre><span style="color: #20AF20">  8.83m/14.3m/1.56m </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  83</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFAAAA; padding:1px;">        k = j + length(parents); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000"> 313.726 </span></pre></td><td><pre><span style="color: #0000FF"> 153951 </span></pre></td><td><pre><span style="color: #20AF20">  10.7m/6.33m/2.47m </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  84</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFAAAA; padding:1px;">        if (k &gt; chunk) </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  5.034 </span></pre></td><td><pre><span style="color: #0000FF">   2444 </span></pre></td><td><pre><span style="color: #20AF20">   2.52m/1.86k/640k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  85</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">            cellIndexes{p}(chunk+1:chunk+50) = zeros(50, 1); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  5.044 </span></pre></td><td><pre><span style="color: #0000FF">   2444 </span></pre></td><td><pre><span style="color: #20AF20">         0b/639k/0b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  86</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">            chunk = chunk + 50; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  5.003 </span></pre></td><td><pre><span style="color: #0000FF">   2444 </span></pre></td><td><pre><span style="color: #20AF20">     464b/864k/464b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  87</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">        end </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000"> 316.188 </span></pre></td><td><pre><span style="color: #0000FF"> 153951 </span></pre></td><td><pre><span style="color: #20AF20">    8.92m/16m/1.68m </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  88</span><a name="Line88"></a></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFAAAA; padding:1px;">        cellIndexes{p}(j+1 : k) = parents; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000"> 316.731 </span></pre></td><td><pre><span style="color: #0000FF"> 153951 </span></pre></td><td><pre><span style="color: #20AF20">   9.4m/5.06m/1.41m </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  89</span><a name="Line89"></a></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFAAAA; padding:1px;">        j = k; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000"> 315.125 </span></pre></td><td><pre><span style="color: #0000FF"> 153951 </span></pre></td><td><pre><span style="color: #20AF20">  13.4m/7.16m/1.25m </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  90</span><a name="Line90"></a></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFAAAA; padding:1px;">        i = i+1; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000"> 314.003 </span></pre></td><td><pre><span style="color: #0000FF"> 153951 </span></pre></td><td><pre><span style="color: #20AF20">   8.5m/5.05m/1.41m </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  91</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFAAAA; padding:1px;">    end </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  3.733 </span></pre></td><td><pre><span style="color: #0000FF">   1786 </span></pre></td><td><pre><span style="color: #20AF20">    1.67m/353k/743k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  92</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    cellIndexes{p}(j+1:end) = []; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  3.738 </span></pre></td><td><pre><span style="color: #0000FF">   1786 </span></pre></td><td><pre><span style="color: #20AF20">     344k/361k/344k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  93</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    areaCellCount(p) =j; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  3.699 </span></pre></td><td><pre><span style="color: #0000FF">   1786 </span></pre></td><td><pre><span style="color: #20AF20">     869k/668k/654k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  94</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">end </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">     869k/668k/654k </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;">  95</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;"></span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.002 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">       512b/0b/512b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  96</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">for p = 1 : length(edgePitCell) </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.102 </span></pre></td><td><pre><span style="color: #0000FF">     44 </span></pre></td><td><pre><span style="color: #20AF20">       512b/0b/512b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  97</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    j = 1; % current length of cellIndexes{p} </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.102 </span></pre></td><td><pre><span style="color: #0000FF">     44 </span></pre></td><td><pre><span style="color: #20AF20">       512b/0b/512b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  98</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    i = 1; % iterator </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.100 </span></pre></td><td><pre><span style="color: #0000FF">     44 </span></pre></td><td><pre><span style="color: #20AF20">       512b/0b/512b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; ">  99</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    chunk = 50; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.103 </span></pre></td><td><pre><span style="color: #0000FF">     44 </span></pre></td><td><pre><span style="color: #20AF20">  7.53k/6.88k/7.16k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 100</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    indexes = nan(chunk, 1); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.106 </span></pre></td><td><pre><span style="color: #0000FF">     44 </span></pre></td><td><pre><span style="color: #20AF20">     5.42k/0b/5.05k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 101</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    indexes(1) = edgePitCell(p); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.105 </span></pre></td><td><pre><span style="color: #0000FF">     44 </span></pre></td><td><pre><span style="color: #20AF20">     832b/128k/832b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 102</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    while i &lt;= j </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  2.750 </span></pre></td><td><pre><span style="color: #0000FF">   1189 </span></pre></td><td><pre><span style="color: #20AF20">      10.9k/0b/3.7k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 103</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">        parents = flow_direction_parents{indexes(i)}; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  2.753 </span></pre></td><td><pre><span style="color: #0000FF">   1189 </span></pre></td><td><pre><span style="color: #20AF20">    6.61k/48b/3.52k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 104</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">        pits(parents) = -1.*p; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  2.755 </span></pre></td><td><pre><span style="color: #0000FF">   1189 </span></pre></td><td><pre><span style="color: #20AF20">    6.61k/48b/3.52k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 105</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">        k = j + length(parents); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  2.751 </span></pre></td><td><pre><span style="color: #0000FF">   1189 </span></pre></td><td><pre><span style="color: #20AF20">       288b/0b/160b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 106</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">        if (k &gt; chunk) </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.041 </span></pre></td><td><pre><span style="color: #0000FF">     17 </span></pre></td><td><pre><span style="color: #20AF20">     12.4k/0b/3.02k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 107</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">            indexes(chunk+1:chunk+50) = zeros(50, 1); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.041 </span></pre></td><td><pre><span style="color: #0000FF">     17 </span></pre></td><td><pre><span style="color: #20AF20">     12.4k/0b/3.02k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 108</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">            chunk = chunk + 50; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.040 </span></pre></td><td><pre><span style="color: #0000FF">     17 </span></pre></td><td><pre><span style="color: #20AF20">      1.11k/0b/832b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 109</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">        end </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  2.750 </span></pre></td><td><pre><span style="color: #0000FF">   1189 </span></pre></td><td><pre><span style="color: #20AF20">       130k/0b/126k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 110</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">        indexes(j+1 : k) = parents; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  2.764 </span></pre></td><td><pre><span style="color: #0000FF">   1189 </span></pre></td><td><pre><span style="color: #20AF20">       130k/0b/126k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 111</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">        j = k; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  2.740 </span></pre></td><td><pre><span style="color: #0000FF">   1189 </span></pre></td><td><pre><span style="color: #20AF20">       130k/0b/126k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 112</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">        i = i+1; </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  2.736 </span></pre></td><td><pre><span style="color: #0000FF">   1189 </span></pre></td><td><pre><span style="color: #20AF20">     5.11k/0b/3.14k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 113</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">    end </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.103 </span></pre></td><td><pre><span style="color: #0000FF">     44 </span></pre></td><td><pre><span style="color: #20AF20">       816b/0b/816b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 114</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">end </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.002 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">       176b/0b/176b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 115</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">fprintf('\n'); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.002 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">       176b/0b/176b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 116</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">fprintf('Gathering data for each pit...'); </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">       176b/0b/176b </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 117</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;"></span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.003 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">       1.2m/0b/1.2m </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 118</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">indexes = reshape(1: numel(flow_direction), size(flow_direction)); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.003 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">         14k/0b/14k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 119</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">pairs = cell(pit_count, 1); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">  0.002 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">           1k/0b/1k </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 120</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">[numrows, numcols] = size(dem); </span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000"> 465.157 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 121</span><a name="Line121"></a></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FF8080; padding:1px;">parfor p = 1 : length(cellIndexes) </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 122</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    pairs{p} = zeros(length(cellIndexes{p})*8, 2);</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 123</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    l = 1;</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 124</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    for i = 1 : length(cellIndexes{p}) % walk through indicesToCheck</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 125</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">        [r, c] = ind2sub(size(pits), cellIndexes{p}(i));</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 126</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">        % First, loop over 3x3 neighborhood to find indicesToCheck</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 127</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">        for x = -1 : 1 % loop through neighboring cells</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 128</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">            for y = -1 : 1</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 129</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                if x == 0 &amp;&amp; y ==0</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 130</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                    continue; % skip center cell of 3x3 neighborhood</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 131</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                end</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 132</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                if r+y &gt; numrows || r+y &lt; 1 || c+x &gt; numcols || c+x &lt; 1</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 133</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                    continue; % skip neighbors outside the dem range</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 134</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                end</span><br/></pre></td></tr><tr><a name="Line135"></a><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 135</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                if isnan(dem(r+y, c+x))</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 136</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                    continue;</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 137</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                end</span><br/></pre></td></tr><tr><a name="Line138"></a><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 138</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                neighbor = indexes(r+y, c+x);</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 139</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                curCell = indexes(r, c);</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 140</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">                % First, check for neighbors to check next.</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 141</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                if pits(neighbor) ~= pits(curCell)</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 142</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                    pairs{p}(l, 1) = min([neighbor, curCell]); % lines are always oriented starting at lowest linear index</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 143</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                    pairs{p}(l, 2) = max([neighbor, curCell]);</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 144</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                    l = l+1;</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 145</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">                end</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 146</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">            end</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 147</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">        end</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 148</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    end</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 149</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">    </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 150</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    pairs{p} = pairs{p}(any(pairs{p}, 2), :); % trim zero rows</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 151</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    pairs{p} = sortrows(pairs{p}, [1,2]);</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 152</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    [val, ord] = min(max(dem(pairs{p}(:, 1:2)), [], 2)); % get minimum spillover elevation</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 153</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    spilloverElevation(p) = val;</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 154</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    cellOverflowInto(p) = pairs{p}(ord, pits(pairs{p}(ord, :)) ~= p);   </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 155</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">    </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 156</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">    % Accumulate those elevations that are less than spillover</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 157</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    lessThans = cellIndexes{p}(dem(cellIndexes{p}) &lt;= spilloverElevation(p));</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 158</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    volume(p) = sum((spilloverElevation(p) - dem(lessThans))*cellsize*cellsize); </span><br/></pre></td></tr><tr><a name="Line159"></a><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 159</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    lessThans = []; </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 160</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;">    </span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 161</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    filledVolume(p) = 0;</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 162</span> </pre></td><td class="leftAligned"><pre><span style="color: #228B22; background: #FFFFFF; padding:1px;"></span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 163</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    vca(p) = volume(p)/((cellsize^2).*areaCellCount(p));</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 164</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    if vca(p) &lt; 0</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 165</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">        vca(p) = Inf;</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 166</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">    end</span><br/></pre></td></tr><tr><td><pre></pre></td><td><pre></pre></td><td><pre><span style="color: #20AF20">    221m/155m/7.18m </span></pre></td><td><pre><span style="color: #A0A0A0; margin:0;"> 167</span> </pre></td><td class="leftAligned"><pre><span style="color: #A0A0A0; background: #FFFFFF; padding:1px;">end</span><br/></pre></td></tr><tr><td><pre><span style="color: #FF0000">&lt; 0.001 </span></pre></td><td><pre><span style="color: #0000FF">      1 </span></pre></td><td><pre><span style="color: #20AF20">         0b/1.2m/0b </span></pre></td><td><pre><span style="color: #000000; font-weight: bold; margin:0; "> 168</span></pre></td><td class="leftAligned"><pre><span style="color: #000000; background: #FFFFFF; padding:1px;">end </span><br/></pre></td></tr></table><p><p>Other subfunctions in this file are not included in this listing.</body></html>